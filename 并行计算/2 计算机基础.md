
## 1. 计算机结构与功能 (Structure and Function)

### 层次视图 (Hierarchical View)

- 计算机是复杂系统，最简单的描述方式是通过层次视图
- 最高层次上，计算机是一组相互关联的组件
- 每个组件深入研究，又由相互关联的子组件组成

### 结构与功能的关系

- **结构(Structure)**：组件间如何相互关联(系统设计的内容和方式)
- **功能(Function)**：组件如何在结构内运作(系统做什么和如何做)
- 结构使功能成为可能，例如：多核CPU(结构)使并行处理(功能)成为可能
- 功能影响结构，例如：高速数据处理需求促成了缓存内存的发展

### 计算机的基本功能

- 计算机执行四项基本功能：
    1. **数据处理** (Data processing)
    2. **数据存储** (Data storage)
    3. **数据移动** (Data movement)
    4. **控制** (Control)

### 计算机的基本结构

- 计算机包含四个主要组件：
    1. **中央处理器** (CPU)
    2. **主存储器** (Main memory)
    3. **输入/输出设备** (I/O)
    4. **系统互连** (System interconnection)

### CPU的内部结构

- CPU主要组件：
    1. **控制单元** (Control unit)
    2. **算术逻辑单元** (Arithmetic and logic unit, ALU)
    3. **寄存器** (Registers)
    4. **CPU内部互连** (CPU interconnection)

## 2. 存储程序概念 (The Stored Program Concept)

### 早期计算机的编程方式

- 最早的计算机编程非常困难，需要设置大量开关以及插拔大量电缆
- John von Neumann（冯·诺依曼）等人开发了存储程序概念

### 存储程序概念的核心

- 程序与数据一起存储在内存中
- 程序需要以二进制形式表示
- 计算机可以通过从内存读取来获取指令

### IAS计算机

- 基于存储程序概念设计
- 几乎所有通用计算机都基于此设计
- 主要组件：主存储器、算术逻辑单元、控制单元、输入/输出设备

### 冯·诺依曼架构 (von Neumann Machines)

- IAS计算机的结构是几乎所有现代计算机的基础
- 现代计算机虽然更复杂且有许多细微差别，但基本结构相似，仍被称为冯·诺依曼机

### 指令周期 (Instruction Cycle)

- 计算机反复执行的循环过程，包含两个部分：
    1. **取指令(Fetch)**：下一条指令和相关内存地址加载到CPU中
    2. **执行(Execute)**：解释指令并完成计算

## 3. 性能设计 (Designing For Performance)

### 效率技术 (Efficiency Techniques)

随着时钟频率提高变得越来越困难，采用了不同技术来提高效率：

1. **流水线技术** (Pipelining)：允许处理器同时处理多条指令，每条指令处于指令周期的不同部分
2. **分支预测** (Branch Prediction)：处理器预测哪些指令分支可能被处理，提前获取正确指令
3. **数据流分析** (Data Flow Analysis)：分析指令间的数据依赖关系，创建优化的指令调度
4. **推测执行** (Speculative Execution)：提前执行可能需要的指令，将结果保存在临时位置

### 性能平衡问题

- 系统组件以不同速度处理数据，造成不匹配
- 最大的不匹配之一是CPU和主内存之间的速度差距
- 若内存或互连不够快，会浪费宝贵的处理时间

### 解决性能平衡的方法

- 增加一次检索的位数
- 通过包含缓存改变DRAM接口使其更高效
- 在处理器和主内存之间包含复杂高效的缓存结构
- 增加处理器和内存之间的互连带宽

## 4. 互连结构 (Interconnection Structures)

### 总线互连 (Bus Interconnections)

- **总线**：连接两个或多个设备的通信路径
- 特点：共享传输媒介，多个设备连接到同一总线
- 当一个设备传输时，所有其他设备都能收到；如果两个设备同时传输，信息会受到干扰

### 总线的组成与性能

- 总线是连接到所有设备的一组并行导线
- **总线宽度**(Bus Width)：总线一次能传输的位数，常限制计算机性能
- **总线速度**(Bus Speed)：以每秒周期数(Hz)计量

### 总线的问题

- 连接的设备越多，同时传输的可能性越大
- 导致更长的导线，传输速度更慢
- 协调控制总线使用困难

### 点对点互连 (Point-to-Point Interconnects)

- 作为总线的替代方案
- 不是单一共享传输媒介，而是在组件对之间有许多单独连接
- 不需要协调传输

## 5. 缓存内存 (Cache Memory)

### 内存系统特征

- 内存位置：寄存器、缓存、主内存、SSD、磁盘、光盘等
- 存储容量：以字节或字为单位
- 传输量：总线或块的大小
- 访问方式：顺序、直接、随机、关联

### 内存层次结构 (Memory Hierarchy)

- 计算机内存设计受三个约束：容量多大、速度多快、成本多高
- 存在容量、访问时间和成本之间的权衡：
    - 更快的访问时间，每位成本更高
    - 更大的容量，每位成本更低
    - 更大的容量，访问时间更慢
- 解决方案是使用内存层次结构

### 缓存内存工作原理

- 缓存是一小块非常快速的内存
- 存储常用项目以提高整体性能
- CPU需要数据时，先检查缓存：
    - 如果数据在缓存中(命中)，则更快访问
    - 如果不在(未命中)，则从内存读取数据到缓存

### 多级缓存 (Multi Level Caches)

- 缓存通常组织成多个级别
- 较小且靠近CPU的缓存更快，较大且距离更远的缓存较慢

这份笔记涵盖了PPT中的核心概念，保留了英文关键术语，同时用中文解释主要内容，适合用于英文考试的准备。